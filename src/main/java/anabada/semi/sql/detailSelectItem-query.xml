<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<!-- 전체 게시글 수 조회 -->
	<entry key="selectCategory">
		SELECT * FROM CATEGORY
		ORDER BY CATEGORY_CD
	</entry>

	<!-- 상세 조회 -->
	<entry key="selectItem">
		SELECT  ITEM_NO, ITEM_NM, 
				TO_CHAR(ITEM_PRICE, 'FM9,999,999') ITEM_PRICE,
				ITEM_INFO,ITEM_DATE, CATEGORY_CD, ITEM_STATUS_CD, 
				MEMBER_NO, READ_COUNT, b.CATEGORY_NM,
				(SELECT COUNT(*) FROM WISH WHERE ITEM_NO = ?) WISH
			FROM ITEM
			join category b using(CATEGORY_CD)
		WHERE ITEM_NO = ?
	</entry>

	<!-- 이미지 조회 -->
	<entry key="selectItemImg">
		SELECT IMG_NM, IMG_PATH, IMG_LEVEL
		    FROM ITEM_IMG
		WHERE ITEM_NO = ?
	</entry>

	<!-- 댓글 조회 -->
	<entry key="selectReplyList">
		SELECT REPLY_NO, REPLY_CONTENT, REPLY_DT, REPLY_SECRET, MEMBER_NO, REPLY_STATUS_CD, MEMBER_NM 
			FROM REPLY
		JOIN MEMBER USING(MEMBER_NO)
		WHERE ITEM_NO = ?
	</entry>

	<!-- 댓글 삽입 -->
	<entry key="insertReply">
		INSERT INTO REPLY 
		VALUES(SEQ_REPLY_NO.NEXTVAL, ?, default, ?, ?, ?, default);
	</entry>
	
</properties>